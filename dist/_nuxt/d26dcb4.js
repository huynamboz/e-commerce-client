(window.webpackJsonp=window.webpackJsonp||[]).push([[12,6],{335:function(t,e,n){var content=n(352);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("2452fe06",content,!0,{sourceMap:!1})},351:function(t,e,n){"use strict";n(335)},352:function(t,e,n){var o=n(37)((function(i){return i[1]}));o.push([t.i,"@keyframes ldio-t3us8tnenwh-6638d353{0%{opacity:1}to{opacity:0}}.ldio-t3us8tnenwh div[data-v-6638d353]{animation:ldio-t3us8tnenwh-6638d353 1s linear infinite;background:#292664;border-radius:6px/12px;height:24px;left:94px;position:absolute;top:48px;transform-origin:6px 52px;width:12px}.ldio-t3us8tnenwh div[data-v-6638d353]:first-child{animation-delay:-.9166666667s;background:#292664;transform:rotate(0deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(2){animation-delay:-.8333333333s;background:#667395;transform:rotate(30deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(3){animation-delay:-.75s;background:#94a9ce;transform:rotate(60deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(4){animation-delay:-.6666666667s;background:#b5ccf1;transform:rotate(90deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(5){animation-delay:-.5833333333s;background:#f5f4fa;transform:rotate(120deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(6){animation-delay:-.5s;background:#f2bed1;transform:rotate(150deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(7){animation-delay:-.4166666667s;background:#87434d;transform:rotate(180deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(8){animation-delay:-.3333333333s;background:#552b2f;transform:rotate(210deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(9){animation-delay:-.25s;background:#292664;transform:rotate(240deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(10){animation-delay:-.1666666667s;background:#667395;transform:rotate(270deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(11){animation-delay:-.0833333333s;background:#94a9ce;transform:rotate(300deg)}.ldio-t3us8tnenwh div[data-v-6638d353]:nth-child(12){animation-delay:0s;background:#b5ccf1;transform:rotate(330deg)}.loadingio-spinner-spinner-govahtlvm8p[data-v-6638d353]{background:transparent;display:inline-block;height:200px;left:50%;overflow:hidden;position:fixed;top:50%;transform:translate(-50%,-50%);width:200px}.ldio-t3us8tnenwh[data-v-6638d353]{-webkit-backface-visibility:hidden;backface-visibility:hidden;height:100%;position:relative;transform:translateZ(0) scale(1);transform-origin:0 0;width:100%}.ldio-t3us8tnenwh div[data-v-6638d353]{box-sizing:content-box}",""]),o.locals={},t.exports=o},359:function(t,e,n){var content=n(375);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("0882ecd2",content,!0,{sourceMap:!1})},364:function(t,e,n){"use strict";n.r(e);n(351);var o=n(23),component=Object(o.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"loadingio-spinner-spinner-govahtlvm8p"},[t("div",{staticClass:"ldio-t3us8tnenwh"},[t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div")])])}],!1,null,"6638d353",null);e.default=component.exports},374:function(t,e,n){"use strict";n(359)},375:function(t,e,n){var o=n(37),r=n(117),d=n(376),l=o((function(i){return i[1]})),c=r(d);l.push([t.i,".img-cmp[data-v-3d620686]{height:200px;width:200px}.container[data-v-3d620686],.page-add[data-v-3d620686]{display:flex;justify-content:center}.container[data-v-3d620686]{align-items:center;flex-direction:column;gap:30px;max-width:1240px;padding:20px;width:100%}.line[data-v-3d620686]{border-bottom:1px solid #c9c9c9;height:0;width:100%}.title[data-v-3d620686]{color:#136;font-size:24px;font-weight:600}label[data-v-3d620686]{color:#091a75;font-weight:500}textarea[data-v-3d620686]{border:1px solid #c9c9c9;border-radius:10px;height:100px}input[data-v-3d620686],textarea[data-v-3d620686]{margin:5px 20px;padding:10px}input[data-v-3d620686]{border:1px solid #c9c9c9;border-radius:6px}input[type=password][data-v-3d620686],input[type=text][data-v-3d620686],select[data-v-3d620686],textarea[data-v-3d620686]{outline:none}#inp-file[data-v-3d620686]{display:none}.list-img-preview[data-v-3d620686]{display:flex;flex-wrap:wrap;gap:10px}.item-img[data-v-3d620686]{border-radius:6px;height:100px;width:100px}.btn-submit[data-v-3d620686]{background-color:#136;border:none;border-radius:20px;color:#fff;cursor:pointer;max-width:100px;padding:10px 20px}.choose-file[data-v-3d620686]{blur:10px;align-items:center;background-image:url("+c+");color:#fff;cursor:pointer;height:200px;justify-content:center;padding:10px;width:200px}.choose-file[data-v-3d620686],.main[data-v-3d620686]{background-color:#fff;border-radius:10px;display:flex}.main[data-v-3d620686]{flex-direction:column;gap:10px;padding:20px;width:100%}.list-product[data-v-3d620686]{display:flex;flex-wrap:wrap;gap:15px;margin-top:80px;width:800px}.item-product[data-v-3d620686]{border-radius:10px;box-shadow:0 11px 20px 0 hsla(0,0%,60%,.259);cursor:pointer;padding:10px;width:200px}.item-product-img[data-v-3d620686]{border-radius:10px;width:100%}.item-product-description[data-v-3d620686]{height:50px;overflow:hidden;text-overflow:ellipsis}.item-product-name[data-v-3d620686]{font-size:16px;font-weight:500;height:60px;margin:5px 0;overflow:hidden;text-overflow:ellipsis;white-space:pre-wrap}.item-product-price[data-v-3d620686]{color:red;font-size:16px;font-weight:500}",""]),l.locals={},t.exports=l},376:function(t,e,n){t.exports=n.p+"img/choose.118f1fd.png"},389:function(t,e,n){"use strict";n.r(e);n(26),n(31),n(49);var o=n(5),r=(n(50),n(11),n(39),n(60),{auth:!1,components:{loading:n(364).default},data:function(){return{name:"",price:"",description:"",thumbnail:"",category:"",keyword:"",discount:"",previewUrl:[],listFile:[],fileInput:null,isLoading:!1,dataProduct:null,listCompare:null}},mounted:function(){console.log(this.$auth.user)},methods:{formatPrice:function(t){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(t)},fetchAllProduct:function(){var t=this;this.$axios.get("http://localhost:5000/api/product/user/".concat(this.$auth.user.user_id)).then((function(e){console.log(e),t.dataProduct=e.data.data,console.log("product",t.dataProduct),t.dataProduct.forEach((function(t){t.description=JSON.parse(t.description),t.thumbnail_url="http://localhost:5000"+t.thumbnail_url}))}))},fetchCompare:function(){var t=this;this.$axios.get("https://www.lazada.vn/tag/?_keyori=ss&ajax=true&catalog_redirect_tag=true&from=input&isFirstRequest=true&page=1&q=".concat(encodeURIComponent(this.name),"&spm=a2o4n.searchlist.search.go.1c21431ebkDUEK")).then((function(e){t.listCompare=e.data.mods.listItems,console.log(t.listCompare)}))},previewImage:function(t){var e=this;try{var n;n=t.target.files;for(var i=0;i<n.length;i++)this.listFile.push(n[i]);this.previewUrl=[],this.listFile.forEach((function(t){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){e.previewUrl.push(n.result)}}))}catch(t){console.log(t)}},postData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,console.log(t.$auth.user),e.next=5,t.$axios.post("http://localhost:5000/api/product",{user_id:t.$auth.user.user_id,name:t.name,price:t.price,description:JSON.stringify(t.description),thumbnail_url:"null",category_id:t.category,discount:t.discount}).then((function(e){console.log(e),t.dataProduct=e.data})).catch((function(t){console.log(t)}));case 5:return[],n=new FormData,t.listFile.forEach((function(t){n.append("files",t)})),e.next=10,t.$axios.post("http://localhost:5000/api/thumbnail/".concat(t.dataProduct.id,"/upload"),n,{}).then((function(e){console.log(e),t.thumbnail=e.data})).catch((function(e){console.log(e),t.isLoading=!1}));case 10:return e.next=12,t.$axios.put("http://localhost:5000/api/product/".concat(t.dataProduct.id,"/thumbnail?imgPath=").concat(t.thumbnail[0].filePath),{}).then((function(e){console.log(e),t.isLoading=!1})).catch((function(t){console.log(t)}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()}}}),d=(n(374),n(23)),component=Object(d.a)(r,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-add"},[e("section",{staticClass:"container"},[t.$route.params.modify?e("h1",{staticClass:"title"},[t._v("Chỉnh sửa sản phẩm")]):e("h1",{staticClass:"title"},[t._v("Thêm sản phẩm")]),t._v(" "),e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"main"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Bàn ghế"},domProps:{value:t.name},on:{change:function(e){return t.fetchCompare()},input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),t._m(1),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"text",placeholder:"100000"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),t._v(" "),t._m(2),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:"Mô tả về sản phẩm"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),t._m(3),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],attrs:{type:"text"},domProps:{value:t.category},on:{input:function(e){e.target.composing||(t.category=e.target.value)}}}),t._v(" "),t._m(4),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],attrs:{type:"text",placeholder:"10"},domProps:{value:t.discount},on:{input:function(e){e.target.composing||(t.discount=e.target.value)}}}),t._v(" "),t._m(5),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"Bàn ghế, ghế gỗ"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),e("label",{staticClass:"choose-file",attrs:{for:"inp-file"}},[t._v("Chọn ảnh")]),t._v(" "),e("input",{ref:"fileInput",attrs:{type:"file",accept:"image/*",multiple:"",name:"",id:"inp-file"},on:{change:function(e){return t.previewImage(e)}}}),t._v(" "),e("div",{staticClass:"list-img-preview"},t._l(t.previewUrl,(function(n){return n?e("img",{staticClass:"item-img",attrs:{src:n,alt:""}}):t._e()})),0),t._v(" "),e("button",{staticClass:"btn-submit",on:{click:function(e){return t.postData()}}},[t._v("Đăng")]),t._v(" "),t.isLoading?e("loading"):t._e()],1)]),t._v(" "),e("div",{staticClass:"listcompare"},t._l(t.listCompare,(function(n,o){return e("div",{key:o,staticClass:"item-cmp"},[e("img",{staticClass:"img-cmp",attrs:{src:null==n?void 0:n.thumbs[0].image,alt:""}}),t._v(" "),e("p",[t._v(t._s(null==n?void 0:n.name))]),t._v(" "),e("p",[t._v(t._s(null==n?void 0:n.priceShow))])])})),0)])}),[function(){var t=this,e=t._self._c;return e("label",{attrs:{for:""}},[t._v("Tên sản phẩm "),e("span",{staticStyle:{color:"red"}},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:""}},[t._v("Giá "),e("span",{staticStyle:{color:"red"}},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:""}},[t._v("Mô tả "),e("span",{staticStyle:{color:"red"}},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:""}},[t._v("category "),e("span",{staticStyle:{color:"red"}},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:""}},[t._v("Giảm giá(%) "),e("span",{staticStyle:{color:"red"}},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"key"}},[t._v("Từ khóa "),e("span",{staticStyle:{color:"red"}},[t._v("*")])])}],!1,null,"3d620686",null);e.default=component.exports}}]);